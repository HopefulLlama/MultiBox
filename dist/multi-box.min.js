function MultiBox(t){MultiBox.escapeHTML=function(t){return String(t).replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},this.instance=$instances,$instances++,this.name="undefined"!=typeof t.name?t.name:"multiBox-"+this.instance,this.cssClasses="undefined"!=typeof t.cssClasses?t.cssClasses:"",this.items="undefined"!=typeof t.items?t.items:[],this.duplicateAllowed="undefined"!=typeof t.duplicateAllowed?t.duplicateAllowed:!1,this.htmlAllowed="undefined"!=typeof t.htmlAllowed?t.htmlAllowed:!1,this.blankItemAllowed="undefined"!=typeof t.blankItemAllowed?t.blankItemAllowed:!1,this.trim="undefined"!=typeof t.trim?t.trim:!0,this.addItem=function(t){if(!this.blankItemAllowed&&""===t.trim())return!1;if(this.htmlAllowed||(t=MultiBox.escapeHTML(input.val())),this.trim&&(t=t.trim()),this.duplicateAllowed)return this.items.push(t),!0;for(var e=!1,n=0;n<this.items.length;n++)this.items[n]===t&&(e=!0);return e?!1:(this.items.push(t),!0)},this.removeItemByIndex=function(t){console.log(this.items,t),this.items.splice(t,1)},this.generate=function(){var t=this,e=$("#"+this.name);e.empty(),e.addClass("panel panel-default "+this.cssClasses);var n=$('<div class="panel-body">');n.appendTo(e);for(var s=$('<div id="list-of-items-'+this.instance+'" class="row">'),i=0;i<this.items.length;i++){var a=$('<div class="col-xs-12" style="margin-bottom: 5px">');a.appendTo(s);var l=$("<span>"+this.items[i]+"</span>");l.appendTo(a);var o=$('<button type="button" class="pull-right btn btn-danger btn-xs" data-item-id="'+i+'">-</button>');o.appendTo(a),o.click(function(e){t.removeItemByIndex(parseInt($(e.target).attr("data-item-id"))),t.generate()})}s.appendTo(n);var p=$('<button type="button" class="btn btn-warning pull-right">Clear All</button>');p.appendTo(n),p.click(function(){t.items=[],t.generate()});var d=$('<div class="panel-footer">');d.appendTo(e);var r=$('<div class="input-group">');r.appendTo(d);var c=$('<input type="text" class="form-control">');c.appendTo(r);var u=$('<span class="input-group-btn">');u.appendTo(r);var m=$('<button type="button" class="btn btn-primary">+ Add</button>');m.appendTo(u);var h=function(){t.addItem(c.val())&&t.generate()};m.click(h),c.keydown(function(t){13==t.which&&(t.preventDefault(),h())})}}var $instances=0;