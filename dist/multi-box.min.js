function MultiBox(t){this.instance=$instances,$instances++,this.name="undefined"!=typeof t.name?t.name:"multiBox-"+this.instance,this.cssClasses="undefined"!=typeof t.cssClasses?t.cssClasses:"",this.items="undefined"!=typeof t.items?t.items:[],this.duplicateAllowed="undefined"!=typeof t.duplicateAllowed?t.duplicateAllowed:!1,this.trim="undefined"!=typeof t.trim?t.trim:!0,this.addItem=function(t){if(this.duplicateAllowed)return this.items.push(t),!0;for(var e=!1,s=0;s<this.items.length;s++)this.items[s]===t&&(e=!0);return e?!1:(this.items.push(t),!0)},this.removeItemByIndex=function(t){console.log(this.items,t),this.items.splice(t,1)},this.generate=function(){var t=this,e=$("#"+this.name);e.empty(),e.addClass("panel panel-default "+this.cssClasses);var s=$('<div class="panel-body">');s.appendTo(e);for(var n=$('<div id="list-of-items-'+this.instance+'">'),i=0;i<this.items.length;i++){var a=$('<div class="col-xs-12">');a.appendTo(n);var d=$("<span>"+this.items[i]+"</span>");d.appendTo(a);var o=$('<button type="button" class="pull-right btn btn-danger btn-xs" data-item-id="'+i+'">-</button>');o.appendTo(a),o.click(function(e){t.removeItemByIndex(parseInt($(e.target).attr("data-item-id"))),t.generate()})}n.appendTo(s);var p=$('<div class="panel-footer">');p.appendTo(e);var l=$('<div class="input-group">');l.appendTo(p);var r=$('<input type="text" class="form-control">');r.appendTo(l);var c=$('<span class="input-group-btn">');c.appendTo(l);var u=$('<button type="button" class="btn btn-primary">+ Add</button>');u.appendTo(c);var m=function(){var e=r.val();t.trim&&(e=e.trim()),t.addItem(e)&&t.generate()};u.click(m),r.keydown(function(t){13==t.which&&(t.preventDefault(),m())})}}var $instances=0;